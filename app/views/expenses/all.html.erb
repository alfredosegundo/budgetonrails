<h3>Despensas em <%= @budget_date.strftime("%B %Y") %></h3>
<% unless @expected_expenses.empty? %>
  <table>
    <thead>
      <tr>
        <th colspan="5">Despesas planejadas</th>
      </tr>
    </thead>
    <tr>
      <th>Descrição</th>
      <th>Valor</th>
      <th colspan="3"></th>
    </tr>
   
    <% @expected_expenses.each do |expense| %>
      <tr>
        <td>
          <%= expense.description %>
          <%= link_to "realize", new_expense_path(expected_expense_id: expense.id) %>
        </td>
        <td><%= expense.value %></td>
        <td><%= link_to 'Show', expected_expense_path(expense) %></td>
        <td><%= link_to 'Edit', edit_expected_expense_path(expense) %></td>
        <td><%= link_to 'Destroy', expected_expense_path(expense), method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </table>
<% end %>

<% unless @periodic_expenses.empty? %>
  <table>
    <thead>
      <tr>
        <th colspan="6">Despesas periódicas</th>
      </tr>
    </thead>
    <tr>
      <th>Descrição</th>
      <th>Categoria</th>
      <th>Valor</th>
      <th colspan="3"></th>
    </tr>
   
    <% @periodic_expenses.each do |expense| %>
      <tr>
        <td>
          <%= expense.description %>
        </td>
        <td>
          <% if expense.category %>
              <%= link_to expense.category.name, category_path(expense.category, budget_date: @budget_date), method: :get %>
          <% end %>
        </td>
        <td><%= expense.value %></td>
        <td><%= link_to 'Show', periodic_expense_path(expense) %></td>
        <td><%= link_to 'Edit', edit_periodic_expense_path(expense) %></td>
        <td><%= link_to 'Destroy', periodic_expense_path(expense), method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </table>
<% end %>

<% unless @expenses.empty? %>
  <table>
    <thead>
      <tr>
        <th colspan="6">Despesas únicas</th>
      </tr>
    </thead>
    <tr>
      <th>Descrição</th>
      <th>Categoria</th>
      <th>Valor</th>
      <th colspan="3"></th>
    </tr>
   
    <% @expenses.each do |expense| %>
      <tr>
        <td>
          <%= expense.description %>
        </td>
        <td>
          <% if expense.category %>
            <%= link_to expense.category.name, category_path(expense.category, budget_date: @budget_date), method: :get %>
          <% end %>
        </td>
        <td><%= expense.value %></td>
        <td><%= link_to 'Show', expense_path(expense) %></td>
        <td><%= link_to 'Edit', edit_expense_path(expense) %></td>
        <td><%= link_to 'Destroy', expense_path(expense), method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </table>
<% end %>